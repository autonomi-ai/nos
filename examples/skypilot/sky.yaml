# NOS GPU server deployment on T4
# Usage: sky launch -c nos-server server.yaml

name: nos-server

resources:
  accelerators: T4:1
  cloud: gcp
  ports:
    - 8000
    - 50051

setup: |
  # Install docker compose plugin
  sudo apt-get install -y docker-compose-plugin
  # Install torch-nos
  pip install torch-nos

run: |
  # Run the server
  nos serve up --http
